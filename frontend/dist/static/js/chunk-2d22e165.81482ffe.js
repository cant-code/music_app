(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22e165"],{f9ea:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"fill-height"},[n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:"",color:"primary","max-width":"300px"}},[n("v-list-item",{attrs:{link:""},on:{click:e.openSignInWindow}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-spotify")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Connect Spotify")])],1)],1)],1)],1)],1)],1)},i=[],o=(n("ac1f"),n("1276"),n("2ca0"),n("96cf"),n("1da1")),r=n("bc3a"),s=n.n(r),c=null,u=null,d="Spotify",l={methods:{openSignInWindow:function(){var e=this;s.a.get("/spotify/gettoken/",{headers:{Authorization:" Token "+this.$store.getters["auth/getUserToken"]}}).then((function(t){window.removeEventListener("message",e.receiveMessage);var n="toolbar=no, menubar=no, width=600, height=700, top=100, left=100";null===c||c.closed?c=window.open(t.data,d,n):u!==t?(c=window.open(t.data,d,n),c.focus()):c.focus(),window.addEventListener("message",(function(t){return e.receiveMessage(t)}),!1),u=t}))},receiveMessage:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.data){n.next=6;break}if(!e.data.startsWith("?code")){n.next=6;break}return a=e.data,i=a.split("?code=")[1].split("&")[0],n.next=6,s.a.get("/spotify/auth/",{params:{code:i},headers:{Authorization:" Token "+t.$store.getters["auth/getUserToken"]}}).then((function(e){var n=e.data,a={token:n.access_token,refresh_token:n.refresh_token,expires:n.expires_at,username:n.user.id,category:n.user.product};t.$store.dispatch("spotify/saveData",a).then((function(){return t.$router.push("/")}))}));case 6:case"end":return n.stop()}}),n)})))()}}},f=l,h=n("2877"),p=n("6544"),v=n.n(p),m=n("b0af"),w=n("62ad"),g=n("a523"),k=n("132d"),b=n("da13"),x=n("5d23"),y=n("34c3"),V=n("0fd9"),I=Object(h["a"])(f,a,i,!1,null,null,null);t["default"]=I.exports;v()(I,{VCard:m["a"],VCol:w["a"],VContainer:g["a"],VIcon:k["a"],VListItem:b["a"],VListItemContent:x["a"],VListItemIcon:y["a"],VListItemTitle:x["c"],VRow:V["a"]})}}]);
//# sourceMappingURL=chunk-2d22e165.81482ffe.js.map
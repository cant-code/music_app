(function(e){function t(t){for(var r,a,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},s=[];function i(e){return c.p+"static/js/"+({}[e]||e)+"."+{"chunk-08b9a1aa":"89b0f44d","chunk-087dd899":"a91bb446","chunk-4c702a86":"896f799b","chunk-2d0c7e97":"e152e546","chunk-2d0e13f4":"3e1add47","chunk-2d22e165":"c0c69440","chunk-949bfb04":"670b040e"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-08b9a1aa":1,"chunk-087dd899":1,"chunk-4c702a86":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="static/css/"+({}[e]||e)+"."+{"chunk-08b9a1aa":"3f737ce8","chunk-087dd899":"bc7a4c04","chunk-4c702a86":"ed94aa96","chunk-2d0c7e97":"31d6cfe0","chunk-2d0e13f4":"31d6cfe0","chunk-2d22e165":"31d6cfe0","chunk-949bfb04":"31d6cfe0"}[e]+".css",o=c.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[e],m.parentNode.removeChild(m),n(s)},m.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[e.test?n("nav-drawer"):e._e(),n("v-main",[n("router-view")],1),e.spotify?n("foot"):e._e()],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{permanent:"","expand-on-hover":!0,app:""},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-list-item",{attrs:{link:""},on:{click:e.logout}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-logout")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v("Logout")])],1)],1)]},proxy:!0}])},[n("v-list-item",[n("v-list-item-icon",[n("v-icon",{attrs:{dark:""}},[e._v("mdi-account")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v("Hello, "+e._s(e.getUser))])],1)],1),n("v-divider"),n("v-list",{attrs:{shaped:""}},[n("v-list-item",{attrs:{link:"",to:"/","active-class":"primary"}},[n("v-list-item-icon",[n("v-icon",{attrs:{dark:""}},[e._v("mdi-home")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v("Home")])],1)],1),n("v-list-item",{attrs:{link:"",to:"/search","active-class":"primary"}},[n("v-list-item-icon",[n("v-icon",{attrs:{dark:""}},[e._v("mdi-magnify")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v("Search")])],1)],1),e.showSettings?e._e():n("v-list-item",{attrs:{link:"",to:"/settings","active-class":"primary"}},[n("v-list-item-icon",[n("v-icon",{attrs:{dark:""}},[e._v("mdi-hammer-wrench")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v("Settings")])],1)],1)],1)],1)},i=[],c={methods:{logout:function(){var e=this;this.$store.dispatch("auth/logoutUser").then((function(){e.$router.push("/login")}))}},computed:{getUser:function(){return this.$store.getters["auth/getUsername"]},showSettings:function(){return this.$store.getters["spotify/getDetails"].username}}},u=c,l=n("2877"),d=n("6544"),m=n.n(d),p=n("ce7e"),f=n("132d"),h=n("8860"),v=n("da13"),g=n("5d23"),k=n("34c3"),y=n("f774"),b=Object(l["a"])(u,s,i,!1,null,null,null),_=b.exports;m()(b,{VDivider:p["a"],VIcon:f["a"],VList:h["a"],VListItem:v["a"],VListItemContent:g["a"],VListItemIcon:k["a"],VListItemTitle:g["c"],VNavigationDrawer:y["a"]});var x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-footer",{attrs:{padless:"",rounded:"",dark:"",app:""}},[n("v-row",[n("v-col",{staticClass:"py-0"},[n("v-card",[n("v-slider",{staticClass:"ma-0 pa-0",attrs:{value:e.value,max:this.songInfo.duration,disabled:e.seekDisabled||!e.category,height:"1","thumb-label":"","hide-details":""},on:{mouseup:e.seekToPos},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var n=t.value;return[e._v(" "+e._s(e.millisToMinutesAndSeconds(n))+" ")]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"py-0 text-left",attrs:{cols:"4"}},[n("v-list-item",[n("v-list-item-avatar",{attrs:{tile:""}},[n("v-img",{attrs:{src:e.songInfo.image}})],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.songInfo.name))]),n("v-list-item-subtitle",[e._v(e._s(e.songInfo.artists))])],1),n("v-list-item-icon",[n("v-btn",{attrs:{color:"primary",icon:""},on:{click:e.likeTrack}},[n("v-icon",[e._v(e._s(e.songInfo.liked))])],1)],1)],1)],1),n("v-col",{staticClass:"pa-0",attrs:{cols:"4"}},[n("v-list",{staticClass:"text-center"},[n("v-list-item-icon",{class:{"mx-0":e.$vuetify.breakpoint.smAndDown}},[n("v-btn",{attrs:{icon:"",disabled:!e.changeTrack.prev||!e.category},on:{click:e.playPrev}},[n("v-icon",[e._v("mdi-rewind")])],1)],1),n("v-list-item-icon",{class:{"mx-5":e.$vuetify.breakpoint.mdAndUp,"mx-0":e.$vuetify.breakpoint.smAndDown}},[n("v-btn",{attrs:{icon:"",disabled:!e.category},on:{click:e.playback}},[e.play?n("v-icon",[e._v("mdi-play")]):n("v-icon",[e._v("mdi-pause")])],1)],1),n("v-list-item-icon",{class:{"ml-8":e.$vuetify.breakpoint.mdAndUp,"mx-0":e.$vuetify.breakpoint.smAndDown}},[n("v-btn",{attrs:{icon:"",disabled:!e.changeTrack.next||!e.category},on:{click:e.playNext}},[n("v-icon",[e._v("mdi-fast-forward")])],1)],1)],1)],1),n("v-col",{staticClass:"py-0 d-flex justify-space-between",attrs:{cols:"4"}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-repeat")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-shuffle-variant")])],1),n("v-menu",{attrs:{top:"","offset-y":"","min-width":100,"nudge-left":"30"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mx-3",attrs:{icon:""},on:{click:function(t){e.show=!e.show}}},"v-btn",a,!1),r),[n("v-icon",[e._v("mdi-volume-high")])],1)]}}])},[n("v-slider",{attrs:{disabled:e.seekDisabled||!e.category,vertical:!0,min:0,max:100,"thumb-label":""},on:{mouseup:e.changeVol},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}})],1),n("v-dialog",{attrs:{"max-width":"350"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-13",attrs:{icon:""},on:{click:e.showDevices}},"v-btn",a,!1),r),[n("v-icon",[e._v("mdi-devices")])],1)]}}]),model:{value:e.dialogue,callback:function(t){e.dialogue=t},expression:"dialogue"}},[n("v-card",[n("v-card-title",[n("h2",[e._v("Devices")])]),n("hr"),e._l(e.devices.data,(function(t){return n("v-list-item",{key:t.id,attrs:{link:""},on:{click:function(n){return e.transferPlayback(t.id,t.active)}}},[n("v-list-item-title",{staticClass:"headline text-left"},[e._v(e._s(t.name))]),n("v-list-item-icon",{staticClass:"ma-3 text-right"},[n("v-icon",{attrs:{color:t.active?"primary":"white"}},[e._v(e._s(t.type))])],1)],1)}))],2)],1)],1)],1)],1)],1)],1)],1)},w=[],T=(n("a15b"),n("d81d"),n("b0c0"),n("b680"),{data:function(){return{dialogue:!1,show:!1,value:0,interval:0,volume:100,play:!0,seekDisabled:!0,songInfo:{id:null,name:null,artists:null,image:null,duration:100,liked:null},changeTrack:{next:!1,prev:!1},devices:{data:null},player:null}},watch:{value:function(e){e<this.songInfo.duration&&!this.play||e>this.songInfo.duration&&(this.value=0,clearInterval(this.interval))}},computed:{category:function(){return"premium"===this.$store.getters["spotify/getCategory"]}},mounted:function(){var e=this;if(this.$store.getters["spotify/getDetails"]){var t=document.createElement("script");t.setAttribute("src","https://sdk.scdn.co/spotify-player.js"),document.body.appendChild(t),window.onSpotifyWebPlaybackSDKReady=function(){e.playerConnect()}}},beforeDestroy:function(){this.player.disconnect()},methods:{transferPlayback:function(e,t){var n=this;e===this.$store.getters["spotify/getDeviceID"]&&t||this.$axios.put("me/player",{device_ids:[e],play:!0}).then((function(){return n.dialogue=!1})).catch((function(e){return alert(e.message)}))},getType:function(e){return"Computer"===e?"mdi-laptop":"Smartphone"===e?"mdi-cellphone":"mdi-speaker"},showDevices:function(){var e=this;this.$axios.get("me/player/devices").then((function(t){var n=[];t.data.devices.map((function(t){var r=e.getType(t.type);n.push({id:t.id,name:t.name,type:r,active:t.is_active})})),e.devices={data:n}}))},playNext:function(){this.$axios.post("me/player/next")},playPrev:function(){this.$axios.post("me/player/previous")},changeVol:function(){this.$axios.put("me/player/volume?volume_percent="+this.volume)},seekToPos:function(){this.$axios.put("me/player/seek?position_ms="+this.value)},startBuffer:function(){var e=this;clearInterval(this.interval),this.interval=setInterval((function(){e.play||(e.value+=1e3)}),1e3)},playback:function(){this.play?(this.play=!this.play,this.startBuffer(),this.$axios.put("me/player/play?device_id="+this.$store.getters["spotify/getDeviceID"])):(this.play=!this.play,clearInterval(this.interval),this.$axios.put("me/player/pause"))},playerConnect:function(){var e=this;this.player=new Spotify.Player({name:"Music Mixin",getOAuthToken:function(t){e.$store.getters["spotify/getExpiry"].expires<(new Date).getTime()?e.$store.dispatch("spotify/refreshToken").then((function(){return t(e.$store.getters["spotify/getToken"].token)})):t(e.$store.getters["spotify/getToken"].token)}}),this.player.addListener("authentication_error",(function(){e.playerConnect()})),this.player.addListener("ready",(function(t){var n=t.device_id;e.$store.dispatch("spotify/setDeviceID",n)})),this.player.connect(),this.player.addListener("player_state_changed",(function(t){var n=t.track_window,r=n.current_track,a=n.next_tracks,o=n.previous_tracks,s=t.paused;e.songInfo.name!==r.name&&(e.seekDisabled=!1,e.songInfo.id=r.id,e.songInfo.name=r.name,e.songInfo.artists=r.artists.map((function(e){return e.name})).join(", "),e.songInfo.image=r.album.images[0].url||null,e.songInfo.duration=r.duration_ms,e.changeTrack.next=a.length>0,e.changeTrack.prev=o.length>0,e.value=0,e.startBuffer(),e.$axios.get("me/tracks/contains?ids="+e.songInfo.id).then((function(t){e.songInfo.liked=t.data[0]?"mdi-heart":"mdi-heart-outline"}))),e.play=s}))},likeTrack:function(){var e=this;"mdi-heart-outline"===this.songInfo.liked?this.$axios.put("me/tracks?ids="+this.songInfo.id).then((function(){return e.songInfo.liked="mdi-heart"})).catch((function(){return e.songInfo.liked="mdi-heart-outline"})):this.$axios.delete("me/tracks?ids="+this.songInfo.id).then((function(){return e.songInfo.liked="mdi-heart-outline"})).catch((function(){return e.songInfo.liked="mdi-heart"}))},millisToMinutesAndSeconds:function(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return 60==n?t+1+":00":t+":"+(n<10?"0":"")+n}}}),I=T,S=n("8336"),C=n("b0af"),E=n("99d9"),D=n("62ad"),A=n("169a"),V=n("553a"),$=n("adda"),j=n("8270"),U=n("e449"),O=n("0fd9"),L=n("ba0d"),R=Object(l["a"])(I,x,w,!1,null,null,null),P=R.exports;m()(R,{VBtn:S["a"],VCard:C["a"],VCardTitle:E["a"],VCol:D["a"],VDialog:A["a"],VFooter:V["a"],VIcon:f["a"],VImg:$["a"],VList:h["a"],VListItem:v["a"],VListItemAvatar:j["a"],VListItemContent:g["a"],VListItemIcon:k["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VMenu:U["a"],VRow:O["a"],VSlider:L["a"]});var N={computed:{test:function(){return this.$store.getters["auth/getUserToken"]},spotify:function(){return this.$store.getters["spotify/getToken"].token}},components:{navDrawer:_,foot:P}},M=N,q=n("7496"),B=n("f6c4"),z=Object(l["a"])(M,a,o,!1,null,null,null),H=z.exports;m()(z,{VApp:q["a"],VMain:B["a"]});n("45fc"),n("d3b7");var K=n("2f62"),F=(n("96cf"),n("1da1")),J=n("bc3a"),X=n.n(J);X.a.defaults.xsrfCookieName="csrftoken",X.a.defaults.xsrfHeaderName="X-CSRFToken";var G={username:localStorage.getItem("username")||"",userToken:localStorage.getItem("userToken")||""},W={getUsername:function(e){return e.username},getUserToken:function(e){return e.userToken}},Q={SET_USERNAME:function(e,t){e.username=t},SET_USER_TOKEN:function(e,t){e.userToken=t}},Y={registerUser:function(e,t){return Object(F["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit,n.prev=1,n.next=4,X.a.post("/dj-rest-auth/registration/",{username:t.username,password1:t.password,password2:t.password2,email:t.email});case 4:n.next=9;break;case 6:throw n.prev=6,n.t0=n["catch"](1),new Error("Error Occurred, please try again later");case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))()},loginUser:function(e,t){return Object(F["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.prev=1,n.next=4,X.a.post("/dj-rest-auth/login/",{username:t.username,password:t.password});case 4:return a=n.sent,r("setUserToken",a.data.key),localStorage.setItem("userToken",a.data.key),o=a.data.key,n.next=10,X.a.get("/dj-rest-auth/user/",{headers:{Authorization:" Token "+o}});case 10:s=n.sent,r("setUsername",s.data.username),localStorage.setItem("username",s.data.username),X.a.get("/spotify/get_data/",{headers:{Authorization:" Token "+o}}).then(function(){var e=Object(F["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.data,a={token:n.access_token,refresh_token:n.refresh_token,expires:n.expires_at,username:n.sp_name,category:n.category},e.next=4,r("spotify/saveData",a,{root:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)})),n.next=19;break;case 16:throw n.prev=16,n.t0=n["catch"](1),new Error("Invalid User, please try again");case 19:case"end":return n.stop()}}),n,null,[[1,16]])})))()},logoutUser:function(e){return Object(F["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.prev=1,t.next=4,X.a.post("/dj-rest-auth/logout/",null,{headers:{Authorization:" Token "+G.userToken}});case 4:n("setUsername",""),n("setUserToken",""),n("spotify/saveData",{token:"",refresh_token:"",expires:"",username:"",category:""},{root:!0}),localStorage.clear(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},setUsername:function(e,t){var n=e.commit;n("SET_USERNAME",t)},setUserToken:function(e,t){var n=e.commit;n("SET_USER_TOKEN",t)}},Z={namespaced:!0,state:G,getters:W,mutations:Q,actions:Y},ee=Z;X.a.defaults.xsrfCookieName="csrftoken",X.a.defaults.xsrfHeaderName="X-CSRFToken";var te={spot_Username:localStorage.getItem("spot_Username")||"",token:localStorage.getItem("token")||"",refresh_token:localStorage.getItem("refresh_token")||"",expires:localStorage.getItem("expires")||"",category:localStorage.getItem("category")||"",device_id:""},ne={getDetails:function(e){return{username:e.spot_Username}},getCategory:function(e){return e.category},getExpiry:function(e){return{expires:e.expires}},getToken:function(e){return{token:e.token}},getDeviceID:function(e){return e.device_id}},re={SET_DATA:function(e,t){e.spot_Username=t.username,e.token=t.token,e.refresh_token=t.refresh_token,e.expires=t.expires,e.category=t.category},SET_TOKEN:function(e,t){e.token=t.token,e.refresh_token=t.refresh_token,e.expires=t.expires},SET_DEVICEID:function(e,t){e.device_id=t}},ae={refreshToken:function(e){return Object(F["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,r=e.rootGetters,t.next=3,X.a.get("/spotify/refresh_token/",{headers:{Authorization:" Token "+r["auth/getUserToken"]}}).then((function(e){var t=e.data;console.log(t);var r={token:t.access_token,refresh_token:t.refresh_token,expires:t.expires_at};n("setToken",r).then((function(){console.log("Success")}))}));case 3:case"end":return t.stop()}}),t)})))()},saveData:function(e,t){return Object(F["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,localStorage.setItem("token",t.token),localStorage.setItem("refresh_token",t.refresh_token),localStorage.setItem("expires",t.expires),localStorage.setItem("spot_Username",t.username),localStorage.setItem("category",t.category),r("SET_DATA",t);case 7:case"end":return n.stop()}}),n)})))()},setToken:function(e,t){var n=e.commit;localStorage.setItem("token",t.token),localStorage.setItem("refresh_token",t.refresh_token),localStorage.setItem("expires",t.expires),n("SET_TOKEN",t)},setDeviceID:function(e,t){var n=e.commit;n("SET_DEVICEID",t)}},oe={namespaced:!0,state:te,getters:ne,mutations:re,actions:ae},se=oe,ie={player:"",id:"",type:""},ce={getDetails:function(e){return{player:e.player,id:e.id,type:e.type}}},ue={SET_DATA:function(e,t){e.player=t.player,e.id=t.id,e.type=t.type}},le={setData:function(e,t){var n=e.commit;n("SET_DATA",t)}},de={namespaced:!0,state:ie,getters:ce,mutations:ue,actions:le},me=de;r["a"].use(K["a"]);var pe=new K["a"].Store({state:{},mutations:{},actions:{},modules:{auth:ee,spotify:se,player:me}}),fe=n("8c4f"),he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("browse-view")},ve=[],ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",e._l(e.categories,(function(t,r){return n("v-col",{key:r,attrs:{cols:"6",md:"3",sm:"4"}},[n("v-card",{attrs:{to:/playlists/+t.id}},[n("v-img",{staticClass:"white--text align-end",attrs:{src:t.images[0].url,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"}},[n("v-card-title",{domProps:{textContent:e._s(t.name)}})],1)],1)],1)})),1)],1)},ke=[],ye={data:function(){return{categories:""}},methods:{getCategories:function(){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("browse/featured-playlists");case 3:n=t.sent,console.log(n),e.categories=n.data.playlists.items,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},created:function(){this.getCategories()}},be=ye,_e=n("a523"),xe=Object(l["a"])(be,ge,ke,!1,null,null,null),we=xe.exports;m()(xe,{VCard:C["a"],VCardTitle:E["a"],VCol:D["a"],VContainer:_e["a"],VImg:$["a"],VRow:O["a"]});var Te={components:{browseView:we}},Ie=Te,Se=Object(l["a"])(Ie,he,ve,!1,null,null,null),Ce=Se.exports,Ee=function(){return Promise.all([n.e("chunk-08b9a1aa"),n.e("chunk-087dd899")]).then(n.bind(null,"0894"))},De=function(){return n.e("chunk-2d22e165").then(n.bind(null,"f9ea"))},Ae=function(){return n.e("chunk-949bfb04").then(n.bind(null,"4925"))},Ve=function(){return n.e("chunk-2d0c7e97").then(n.bind(null,"5347"))},$e=function(){return n.e("chunk-2d0e13f4").then(n.bind(null,"7a2f"))};r["a"].use(fe["a"]);var je=[{path:"/",name:"Home",component:Ce,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:Ee,meta:{requiresAuth:!1}},{path:"/signup",name:"Signup",component:Ee,meta:{requiresAuth:!1}},{path:"/settings",name:"Settings",component:De,meta:{requiresAuth:!0}},{path:"/landing",name:"Landing",component:Ae,meta:{requiresAuth:!0}},{path:"/playlists/:id",name:"playlist",component:Ve,meta:{requiresAuth:!0}},{path:"/search",name:"search",component:function(){return Promise.all([n.e("chunk-08b9a1aa"),n.e("chunk-4c702a86")]).then(n.bind(null,"067f"))},meta:{requiresAuth:!0}},{path:"/albums/:id",name:"album",component:$e,meta:{requiresAuth:!0}}],Ue=new fe["a"]({mode:"history",base:"/",routes:je});Ue.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?pe.getters["auth/getUserToken"]?n():n({path:"/login"}):n()}));var Oe=Ue,Le=n("f309"),Re=n("fcf4");r["a"].use(Le["a"]);var Pe=new Le["a"]({theme:{dark:!0,themes:{dark:{primary:Re["a"].teal.lighten2,secondary:Re["a"].red.darken3,accent:Re["a"].green.darken4}}}}),Ne=X.a.create({baseURL:"https://api.spotify.com/v1/"});function Me(){var e=this,t=Ne.interceptors.response.use((function(e){return e}),(function(n){return console.log(n.response),401!==n.response.status?Promise.reject(n):(Ne.interceptors.response.eject(t),pe.dispatch("spotify/refreshToken").then((function(){return n.response.config.headers["Authorization"]="Bearer ".concat(pe.getters["spotify/getToken"].token),Ne(n.response.config)})).catch((function(t){return console.log(t),pe.dispatch("auth/logoutUser").then((function(){e.router.push("/login")})),Promise.reject(t)})).finally(Me))}))}Ne.interceptors.request.use((function(e){return pe.getters["spotify/getToken"]&&(e.headers.common["Authorization"]="Bearer ".concat(pe.getters["spotify/getToken"].token)),e}),null),Me();var qe=Ne;r["a"].config.productionTip=!1,r["a"].prototype.$axios=qe,new r["a"]({router:Oe,store:pe,vuetify:Pe,render:function(e){return e(H)}}).$mount("#app")}});
//# sourceMappingURL=app.3fea3e5e.js.map
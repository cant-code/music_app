(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22e165"],{f9ea:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height"},[n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:"",color:"primary","max-width":"300px"}},[n("v-list-item",{attrs:{link:""},on:{click:t.openSignInWindow}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-spotify")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Connect Spotify")])],1)],1)],1)],1)],1)],1)},o=[],i=(n("ac1f"),n("1276"),n("2ca0"),n("96cf"),n("1da1")),r=n("bc3a"),s=n.n(r),c=null,u=null,l="Spotify",d={methods:{openSignInWindow:function(){var t=this;s.a.get("http://localhost:8000/spotify/gettoken/",{headers:{Authorization:" Token "+this.$store.getters["auth/getUserToken"]}}).then((function(e){window.removeEventListener("message",t.receiveMessage);var n="toolbar=no, menubar=no, width=600, height=700, top=100, left=100";null===c||c.closed?c=window.open(e.data,l,n):u!==e?(c=window.open(e.data,l,n),c.focus()):c.focus(),window.addEventListener("message",(function(e){return t.receiveMessage(e)}),!1),u=e}))},receiveMessage:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.data){n.next=6;break}if(!t.data.startsWith("?code")){n.next=6;break}return a=t.data,o=a.split("?code=")[1].split("&")[0],n.next=6,s.a.get("http://localhost:8000/spotify/auth/",{params:{code:o},headers:{Authorization:" Token "+e.$store.getters["auth/getUserToken"]}}).then((function(t){var n=t.data,a={token:n.access_token,refresh_token:n.refresh_token,expires:n.expires_at,username:n.user.id,category:n.user.product};e.$store.dispatch("spotify/saveData",a).then((function(){return e.$router.push("/")}))}));case 6:case"end":return n.stop()}}),n)})))()}}},h=d,f=n("2877"),p=n("6544"),v=n.n(p),m=n("b0af"),w=n("62ad"),g=n("a523"),k=n("132d"),b=n("da13"),x=n("5d23"),y=n("34c3"),V=n("0fd9"),I=Object(f["a"])(h,a,o,!1,null,null,null);e["default"]=I.exports;v()(I,{VCard:m["a"],VCol:w["a"],VContainer:g["a"],VIcon:k["a"],VListItem:b["a"],VListItemContent:x["a"],VListItemIcon:y["a"],VListItemTitle:x["c"],VRow:V["a"]})}}]);
//# sourceMappingURL=chunk-2d22e165.f987b154.js.map
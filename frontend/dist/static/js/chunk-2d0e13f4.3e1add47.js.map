{"version":3,"sources":["webpack:///./src/components/Browse/album.vue?e139","webpack:///src/components/Browse/album.vue","webpack:///./src/components/Browse/album.vue?c123","webpack:///./src/components/Browse/album.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isMore","staticClass","image","_v","_s","name","label","popularity","category","on","album","likeAlbum","liked","_l","item","index","key","$event","track","id","artists","staticRenderFns","computed","filteredArray","albums","items","filter","$store","getters","updated","data","value","albumID","album_type","total","methods","artistList","map","val","created","getAlbum","component","VBtn","VCard","VCol","VContainer","VDivider","VIcon","VImg","VList","VListItem","VListItemSubtitle","VListItemTitle","VRow"],"mappings":"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","file":"static/js/chunk-2d0e13f4.3e1add47.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',{attrs:{\"loading\":_vm.isMore}},[_c('v-row',{attrs:{\"color\":\"secondary\"}},[_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-img',{staticClass:\"text-left pa-1 mx-auto\",attrs:{\"aspect-ratio\":\"1\",\"src\":this.image}})],1),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('v-col',[_c('div',[_c('h1',[_vm._v(_vm._s(this.name))]),_c('h2',[_c('span',[_vm._v(\"Label: \"+_vm._s(this.label))])]),_c('div',[_c('span',[_vm._v(\"Popularity: \"+_vm._s(this.popularity))])])]),_c('div',[_c('v-btn',{staticClass:\"ma-2\",attrs:{\"disabled\":!_vm.category,\"x-large\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.album}},[_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-play-circle\")])],1),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"x-large\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.likeAlbum}},[_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(_vm._s(_vm.liked))])],1)],1)])],1),_c('v-divider'),_c('v-list',_vm._l((_vm.filteredArray),function(item,index){return _c('v-list-item',{key:index,attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.track(item.id)}}},[_c('v-list-item-title',[_vm._v(_vm._s(item.name))]),_c('v-list-item-subtitle',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm.artists(item.artists))+\" \")])],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-card :loading=\"isMore\">\r\n      <v-row color=\"secondary\">\r\n        <v-col cols=\"3\">\r\n          <v-img class=\"text-left pa-1 mx-auto\" aspect-ratio=\"1\" :src=\"this.image\"></v-img>\r\n        </v-col>\r\n        <v-divider vertical></v-divider>\r\n        <v-col>\r\n          <div>\r\n            <h1>{{ this.name }}</h1>\r\n            <h2><span>Label: {{ this.label}}</span></h2>\r\n            <div><span>Popularity: {{this.popularity}}</span></div>\r\n          </div>\r\n          <div>\r\n            <v-btn :disabled=\"!category\" class=\"ma-2\" x-large icon color=\"primary\" @click=\"album\">\r\n              <v-icon x-large>mdi-play-circle</v-icon>\r\n            </v-btn>\r\n            <v-btn class=\"ma-2\" x-large icon color=\"primary\" @click=\"likeAlbum\">\r\n              <v-icon x-large>{{ liked }}</v-icon>\r\n            </v-btn>\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n      <v-divider></v-divider>\r\n      <v-list>\r\n        <v-list-item link v-for=\"(item, index) in filteredArray\" :key=\"index\" @click=\"track(item.id)\">\r\n          <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n          <v-list-item-subtitle class=\"text-right\">\r\n            {{ artists(item.artists) }}\r\n          </v-list-item-subtitle>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Albums\",\r\n  computed: {\r\n    filteredArray() {\r\n      return this.albums.items.filter(item => {\r\n        return item !== null;\r\n      });\r\n    },\r\n    category() {\r\n      return this.$store.getters[\"spotify/getCategory\"] === \"premium\";\r\n    }\r\n  },\r\n  updated() {\r\n    this.isMore = false;\r\n  },\r\n  data() {\r\n    return {\r\n      value: true,\r\n      image: '',\r\n      name: '',\r\n      albumID: null,\r\n      popularity: null,\r\n      album_type: null,\r\n      liked: null,\r\n      label: null,\r\n      albums: {\r\n        total: 1,\r\n        items: []\r\n      },\r\n      isMore: true\r\n    };\r\n  },\r\n  methods: {\r\n    async getAlbum() {\r\n      try {\r\n          const response = await this.$axios.get(`albums/${this.albumID}`);\r\n          console.log(response)\r\n          this.name = response.data.name;\r\n          this.image = response.data.images[0].url;\r\n          this.label = response.data.label;\r\n          this.popularity = response.data.popularity+'%';\r\n          this.album_type = response.data.album_type;\r\n          const playlists = response.data.tracks;\r\n          this.albums.total = playlists.total;\r\n          this.albums.items.push(...playlists.items);\r\n          this.$axios.get('me/albums/contains?ids=' +this.albumID)\r\n              .then((response) => {\r\n                this.liked = response.data[0] ? 'mdi-heart' : 'mdi-heart-outline';\r\n              });\r\n          this.isMore = false;\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n    likeAlbum() {\r\n      if (this.liked === 'mdi-heart-outline')\r\n        this.$axios.put('albums?ids=' + this.albumID)\r\n            .then(() => this.liked = 'mdi-heart').catch(() => this.liked = 'mdi-heart-outline');\r\n      else\r\n        this.$axios.delete('albums?ids=' + this.albumID)\r\n            .then(() => this.liked = 'mdi-heart-outline').catch(() => this.liked = 'mdi-heart');\r\n    },\r\n    artists(artistList) {\r\n      return artistList.map((val) => {\r\n        return val.name;\r\n      }).join(', ');\r\n    },\r\n    async album() {\r\n      try {\r\n        await this.$store.dispatch('player/setData', {\r\n          player: 'spotify',\r\n          id: this.albumID,\r\n          type: 'album'\r\n        });\r\n        this.$axios.put('me/player/play?device_id='+this.$store.getters[\"spotify/getDeviceID\"], {\r\n          \"context_uri\": \"spotify:album:\"+this.albumID,\r\n        }).then(() => {console.log('Playing');});\r\n      }\r\n      catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n    async track(clickedId) {\r\n      try {\r\n        await this.$store.dispatch('player/setData', {\r\n          player: 'spotify',\r\n          id: clickedId,\r\n          type: 'track'\r\n        });\r\n        this.$axios.put('me/player/play?device_id=' + this.$store.getters[\"spotify/getDeviceID\"], {\r\n          \"context_uri\": \"spotify:album:\"+this.albumID,\r\n          \"offset\": {\"uri\":\"spotify:track:\" + clickedId},\r\n        }).then(() => {\r\n          console.log('Playing');\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    const {id} = this.$route.params;\r\n    this.albumID = id;\r\n    this.getAlbum();\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./album.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./album.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./album.vue?vue&type=template&id=1eb312b2&\"\nimport script from \"./album.vue?vue&type=script&lang=js&\"\nexport * from \"./album.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VDivider,VIcon,VImg,VList,VListItem,VListItemSubtitle,VListItemTitle,VRow})\n"],"sourceRoot":""}
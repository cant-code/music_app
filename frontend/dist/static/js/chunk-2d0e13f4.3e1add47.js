(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e13f4"],{"7a2f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{attrs:{loading:t.isMore}},[a("v-row",{attrs:{color:"secondary"}},[a("v-col",{attrs:{cols:"3"}},[a("v-img",{staticClass:"text-left pa-1 mx-auto",attrs:{"aspect-ratio":"1",src:this.image}})],1),a("v-divider",{attrs:{vertical:""}}),a("v-col",[a("div",[a("h1",[t._v(t._s(this.name))]),a("h2",[a("span",[t._v("Label: "+t._s(this.label))])]),a("div",[a("span",[t._v("Popularity: "+t._s(this.popularity))])])]),a("div",[a("v-btn",{staticClass:"ma-2",attrs:{disabled:!t.category,"x-large":"",icon:"",color:"primary"},on:{click:t.album}},[a("v-icon",{attrs:{"x-large":""}},[t._v("mdi-play-circle")])],1),a("v-btn",{staticClass:"ma-2",attrs:{"x-large":"",icon:"",color:"primary"},on:{click:t.likeAlbum}},[a("v-icon",{attrs:{"x-large":""}},[t._v(t._s(t.liked))])],1)],1)])],1),a("v-divider"),a("v-list",t._l(t.filteredArray,(function(e,i){return a("v-list-item",{key:i,attrs:{link:""},on:{click:function(a){return t.track(e.id)}}},[a("v-list-item-title",[t._v(t._s(e.name))]),a("v-list-item-subtitle",{staticClass:"text-right"},[t._v(" "+t._s(t.artists(e.artists))+" ")])],1)})),1)],1)],1)},r=[],n=(a("4de4"),a("a15b"),a("d81d"),a("b0c0"),a("2909")),s=(a("96cf"),a("1da1")),l={name:"Albums",computed:{filteredArray:function(){return this.albums.items.filter((function(t){return null!==t}))},category:function(){return"premium"===this.$store.getters["spotify/getCategory"]}},updated:function(){this.isMore=!1},data:function(){return{value:!0,image:"",name:"",albumID:null,popularity:null,album_type:null,liked:null,label:null,albums:{total:1,items:[]},isMore:!0}},methods:{getAlbum:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("albums/".concat(t.albumID));case 3:i=e.sent,console.log(i),t.name=i.data.name,t.image=i.data.images[0].url,t.label=i.data.label,t.popularity=i.data.popularity+"%",t.album_type=i.data.album_type,r=i.data.tracks,t.albums.total=r.total,(a=t.albums.items).push.apply(a,Object(n["a"])(r.items)),t.$axios.get("me/albums/contains?ids="+t.albumID).then((function(e){t.liked=e.data[0]?"mdi-heart":"mdi-heart-outline"})),t.isMore=!1,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))()},likeAlbum:function(){var t=this;"mdi-heart-outline"===this.liked?this.$axios.put("albums?ids="+this.albumID).then((function(){return t.liked="mdi-heart"})).catch((function(){return t.liked="mdi-heart-outline"})):this.$axios.delete("albums?ids="+this.albumID).then((function(){return t.liked="mdi-heart-outline"})).catch((function(){return t.liked="mdi-heart"}))},artists:function(t){return t.map((function(t){return t.name})).join(", ")},album:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("player/setData",{player:"spotify",id:t.albumID,type:"album"});case 3:t.$axios.put("me/player/play?device_id="+t.$store.getters["spotify/getDeviceID"],{context_uri:"spotify:album:"+t.albumID}).then((function(){console.log("Playing")})),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},track:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch("player/setData",{player:"spotify",id:t,type:"track"});case 3:e.$axios.put("me/player/play?device_id="+e.$store.getters["spotify/getDeviceID"],{context_uri:"spotify:album:"+e.albumID,offset:{uri:"spotify:track:"+t}}).then((function(){console.log("Playing")})),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()}},created:function(){var t=this.$route.params.id;this.albumID=t,this.getAlbum()}},o=l,u=a("2877"),c=a("6544"),m=a.n(c),d=a("8336"),p=a("b0af"),b=a("62ad"),h=a("a523"),v=a("ce7e"),f=a("132d"),g=a("adda"),y=a("8860"),k=a("da13"),x=a("5d23"),_=a("0fd9"),w=Object(u["a"])(o,i,r,!1,null,null,null);e["default"]=w.exports;m()(w,{VBtn:d["a"],VCard:p["a"],VCol:b["a"],VContainer:h["a"],VDivider:v["a"],VIcon:f["a"],VImg:g["a"],VList:y["a"],VListItem:k["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VRow:_["a"]})}}]);
//# sourceMappingURL=chunk-2d0e13f4.3e1add47.js.map